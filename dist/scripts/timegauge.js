// Generated by CoffeeScript 1.6.3
(function() {
  this.TimeGauge = cc.Node.extend({
    init: function(game) {
      this._super();
      this.game = game;
      this.totalTime = 10;
      this.currentTime = this.totalTime;
      this.drawing = new (sys.capabilities.opengl ? cc.DrawingPrimitiveWebGL : cc.DrawingPrimitiveCanvas)();
      return this.screenSize = cc.Director.getInstance().getWinSize();
    },
    update: function(dt) {
      this.currentTime -= dt;
      if (this.currentTime < 0) {
        this.currentTime = 0;
        return this.game.timeEllapsed();
      }
    },
    draw: function() {
      var colorBackground, colorEnergy, i, _i;
      colorBackground = new cc.c4f(52 / 255, 73 / 255, 94 / 255, 255 / 255);
      colorEnergy = new cc.c4f(52 / 255, 152 / 255, 219 / 255, 255 / 255);
      this.drawing.drawSolidRect(cc.p(16, 16), cc.p(this.screenSize.width - 16, 48), colorBackground);
      this.drawing.drawSolidRect(cc.p(20, 20), cc.p(20 + (this.currentTime / this.totalTime) * (this.screenSize.width - 40), 44), colorEnergy);
      for (i = _i = 1; _i < 10; i = ++_i) {
        this.drawing.drawSolidRect(cc.p(16 + (this.screenSize.width - 32) * i / 10 - 2, 20), cc.p(16 + (this.screenSize.width - 32) * i / 10 + 2, 44), colorBackground);
      }
      return true;
    }
  });

  TimeGauge.create = function(game) {
    var timeGauge;
    timeGauge = new TimeGauge(game);
    timeGauge.init(game);
    return timeGauge;
  };

}).call(this);
